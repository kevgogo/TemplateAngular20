<!-- navbar.component.html - Estructura de cajones como navigation.component -->
<nav
  class="navbar navbar-expand navbar-dark"
  [class.navbar-fixed-top]="isNavFixed()"
>
  <div class="navbar-inner">
    <div class="navbar-container">
      <!-- Navbar Brand - Equivalente a navbar-header pull-left -->
      <div class="navbar-header pull-left">
        <a class="navbar-brand" routerLink="/home">
          <small>
            <img
              src="../../../assets/picasso/logo-picasso.png"
              alt="Logo"
              style="height: 40px; width: 40px"
              class="d-inline-block align-text-top me-2"
            />
            Plantilla
          </small>
        </a>
      </div>

      <!-- Sidebar Collapse -->
      <div class="sidebar-collapse">
        <button
          type="button"
          class="collapse-icon btn p-0 border-0 bg-transparent shadow-none d-inline-flex align-items-center justify-content-center text-white"
          aria-label="Alternar sidebar"
          title="Alternar sidebar"
          (click)="onToggleSidebar()"
        >
          <i class="bi bi-list fs-4"></i>
        </button>
      </div>

      <!-- Account Area and Settings - Equivalente a navbar-header pull-right -->
      <div class="navbar-header pull-right">
        <div class="navbar-account">
          <ul class="account-area">
            <!-- Usuario Dropdown - ORIGINAL SIN MODIFICAR -->
            <li>
              <div
                class="dropdown"
                dropdown
                container="body"
                placement="bottom right"
                [autoClose]="true"
              >
                <button
                  class="btn icon-btn text-white p-0 d-flex align-items-center"
                  type="button"
                  aria-label="Menú de usuario"
                  dropdownToggle
                >
                  <p class="me-2 d-none d-md-inline">
                    Kevin Camilo Gómez González
                  </p>
                  <app-user-photo
                    class="me-2"
                    imgClass="navbar-user-avatar rounded-circle"
                    [width]="40"
                    [height]="40"
                    [propPath]="'token'"
                    [size]="'48x48'"
                  />
                </button>

                <div
                  *dropdownMenu
                  class="dropdown-menu dropdown-menu-end p-3 skin-menu"
                >
                  <!-- Sección de usuario con foto -->
                  <div class="user-profile-section text-center mb-3">
                    <div class="avatar-container mb-2">
                      <app-user-photo
                        imgClass="user-avatar rounded-circle"
                        [width]="60"
                        [height]="60"
                        [propPath]="'token'"
                        [size]="'120x120'"
                      />
                    </div>
                    <h6 class="dropdown-header mb-1">
                      <span
                        class="d-block text-wrap"
                        [title]="'kegomezsunshinebouquet'"
                      >
                        kegomezsunshinebouquet
                      </span>
                    </h6>
                    <p class="text-muted small mb-0">
                      kegomezsunshinebouquet.com
                    </p>
                  </div>

                  <!-- Links de perfil -->
                  <div class="profile-links mb-3">
                    <a href="profile.html" class="dropdown-item">
                      <i class="bi bi-person-circle me-2"></i>Profile
                    </a>
                    <a href="#" class="dropdown-item">
                      <i class="fa fa-cog me-2"></i>Setting
                    </a>
                  </div>

                  <hr class="dropdown-divider" />

                  <!-- Grid de temas -->
                  <div class="skin-grid mx-auto">
                    @for (skin of SKINS; track $index) {
                      <button
                        type="button"
                        class="skin-swatch btn p-0 position-relative"
                        (click)="theme.setSkin(skin.name)"
                        [class.active]="theme.skin() === skin.name"
                        [style.--swatch-bg]="skin.hex"
                        title="{{ skin.label }}"
                      >
                        @if (theme.skin() === skin.name) {
                          <i
                            class="bi bi-check-lg position-absolute top-50 start-50 translate-middle"
                          ></i>
                        }
                      </button>
                    }
                  </div>

                  <hr class="dropdown-divider" />

                  <h6 class="dropdown-item text-center fw-bold mb-0">
                    <a class="" href="#">MENÚ PRINCIPAL</a>
                  </h6>
                </div>
              </div>
            </li>
          </ul>

          <!-- Settings - Equivalente al gear -->
          <div class="setting">
            <div
              class="dropdown"
              dropdown
              container="body"
              placement="bottom right"
              [insideClick]="true"
              #gearDrop="bs-dropdown"
            >
              <button
                class="btn icon-btn text-white p-0"
                type="button"
                aria-label="Ajustes"
                dropdownToggle
                id="btn-setting"
                title="Setting"
              >
                <i class="bi bi-gear-fill fs-4"></i>
              </button>

              <div
                *dropdownMenu
                class="dropdown-menu dropdown-menu-end p-3 setting-container"
                style="min-width: 260px"
              >
                <div class="form-check">
                  <input
                    id="fxNav"
                    class="form-check-input"
                    type="checkbox"
                    [checked]="isNavFixed()"
                    (change)="onToggleNavFixed(); gearDrop.hide()"
                  />
                  <label class="form-check-label" for="fxNav">
                    <span class="text">Fixed Navbar</span>
                  </label>
                </div>

                <div class="form-check">
                  <input
                    id="fxBc"
                    class="form-check-input"
                    type="checkbox"
                    [checked]="isBreadcrumbsFixed()"
                    (change)="onToggleBreadcrumbsFixed(); gearDrop.hide()"
                  />
                  <label class="form-check-label" for="fxBc">
                    <span class="text">Fixed BreadCrumbs</span>
                  </label>
                </div>

                <div class="form-check">
                  <input
                    id="fxPh"
                    class="form-check-input"
                    type="checkbox"
                    [checked]="isHeadbarFixed()"
                    (change)="onToggleHeadbarFixed(); gearDrop.hide()"
                  />
                  <label class="form-check-label" for="fxPh">
                    <span class="text">Fixed Header</span>
                  </label>
                </div>

                <div class="form-check">
                  <input
                    id="fxSb"
                    class="form-check-input"
                    type="checkbox"
                    [checked]="isSidebarFixed()"
                    (change)="onToggleSidebarFixed(); gearDrop.hide()"
                  />
                  <label class="form-check-label" for="fxSb">
                    <span class="text">Fixed SideBar</span>
                  </label>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</nav>
