[ -n "$CI" ] && exit 0

echo "Husky: pre-push (typecheck + tests)"
npx tsc -p tsconfig.json --noEmit || exit 1
npm run test:ci || exit 1